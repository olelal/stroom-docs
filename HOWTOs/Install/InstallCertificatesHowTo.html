
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Certificates Â· Stroom Docs</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="InstallApplicationHowTo.html" />
    
    
    <link rel="prev" href="InstallHttpdHowTo.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">1. Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../screenshots.html">
            
                <a href="../../screenshots.html">
            
                    
                        <b>1.2.</b>
                    
                    Screenshots
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../quick-start-guide/quick-start.html">
            
                <a href="../../quick-start-guide/quick-start.html">
            
                    
                        <b>1.3.</b>
                    
                    Quick-start guide
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">2. Installation</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../install-guide/stroom-app-install.html">
            
                <a href="../../install-guide/stroom-app-install.html">
            
                    
                        <b>2.1.</b>
                    
                    Installing Stroom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <span>
            
                    
                        <b>2.2.</b>
                    
                    Setup
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../../install-guide/setup/apache-forwarding.html">
            
                <a href="../../install-guide/setup/apache-forwarding.html">
            
                    
                        <b>2.2.1.</b>
                    
                    Apache forwarding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../../install-guide/setup/java-key-store-setup.html">
            
                <a href="../../install-guide/setup/java-key-store-setup.html">
            
                    
                        <b>2.2.2.</b>
                    
                    Java key store setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../../install-guide/setup/mysql-server-setup.html">
            
                <a href="../../install-guide/setup/mysql-server-setup.html">
            
                    
                        <b>2.2.3.</b>
                    
                    MySQL server setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../../install-guide/setup/processing-user-setup.html">
            
                <a href="../../install-guide/setup/processing-user-setup.html">
            
                    
                        <b>2.2.4.</b>
                    
                    Processing user setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../../install-guide/setup/securing-stroom.html">
            
                <a href="../../install-guide/setup/securing-stroom.html">
            
                    
                        <b>2.2.5.</b>
                    
                    Securing Stroom
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../install-guide/upgrade-patch.html">
            
                <a href="../../install-guide/upgrade-patch.html">
            
                    
                        <b>2.3.</b>
                    
                    Upgrading and patching
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">3. User Guide</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../user-guide/nodes.html">
            
                <a href="../../user-guide/nodes.html">
            
                    
                        <b>3.1.</b>
                    
                    Nodes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../user-guide/volumes.html">
            
                <a href="../../user-guide/volumes.html">
            
                    
                        <b>3.2.</b>
                    
                    Volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../user-guide/tasks.html">
            
                <a href="../../user-guide/tasks.html">
            
                    
                        <b>3.3.</b>
                    
                    Tasks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../user-guide/feeds.html">
            
                <a href="../../user-guide/feeds.html">
            
                    
                        <b>3.4.</b>
                    
                    Feeds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../user-guide/roles.html">
            
                <a href="../../user-guide/roles.html">
            
                    
                        <b>3.5.</b>
                    
                    Roles and permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../../user-guide/sending-data/">
            
                <a href="../../user-guide/sending-data/">
            
                    
                        <b>3.6.</b>
                    
                    Sending data to Stroom
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="../../user-guide/sending-data/header-arguments.html">
            
                <a href="../../user-guide/sending-data/header-arguments.html">
            
                    
                        <b>3.6.1.</b>
                    
                    Header Arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="../../user-guide/sending-data/payloads.html">
            
                <a href="../../user-guide/sending-data/payloads.html">
            
                    
                        <b>3.6.2.</b>
                    
                    Payloads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="../../user-guide/sending-data/response-codes.html">
            
                <a href="../../user-guide/sending-data/response-codes.html">
            
                    
                        <b>3.6.3.</b>
                    
                    Response codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.4" data-path="../../user-guide/sending-data/example-clients.html">
            
                <a href="../../user-guide/sending-data/example-clients.html">
            
                    
                        <b>3.6.4.</b>
                    
                    Example clients
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.5" data-path="../../user-guide/sending-data/java-keystores.html">
            
                <a href="../../user-guide/sending-data/java-keystores.html">
            
                    
                        <b>3.6.5.</b>
                    
                    SSL Java keystores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.6" data-path="../../user-guide/sending-data/ssl.html">
            
                <a href="../../user-guide/sending-data/ssl.html">
            
                    
                        <b>3.6.6.</b>
                    
                    SSL configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../../user-guide/pipelines/">
            
                <a href="../../user-guide/pipelines/">
            
                    
                        <b>3.7.</b>
                    
                    Pipelines
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1" data-path="../../user-guide/pipelines/parser/">
            
                <a href="../../user-guide/pipelines/parser/">
            
                    
                        <b>3.7.1.</b>
                    
                    Parser
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1.1" data-path="../../user-guide/pipelines/parser/xml-fragments.html">
            
                <a href="../../user-guide/pipelines/parser/xml-fragments.html">
            
                    
                        <b>3.7.1.1.</b>
                    
                    XML fragments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.1.2" data-path="../../user-guide/pipelines/parser/context-data.html">
            
                <a href="../../user-guide/pipelines/parser/context-data.html">
            
                    
                        <b>3.7.1.2.</b>
                    
                    Context data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7.2" data-path="../../user-guide/pipelines/xslt/">
            
                <a href="../../user-guide/pipelines/xslt/">
            
                    
                        <b>3.7.2.</b>
                    
                    XSLT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.2.1" data-path="../../user-guide/pipelines/xslt/xslt-includes.html">
            
                <a href="../../user-guide/pipelines/xslt/xslt-includes.html">
            
                    
                        <b>3.7.2.1.</b>
                    
                    XSLT includes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.2.2" data-path="../../user-guide/pipelines/xslt/xslt-functions.html">
            
                <a href="../../user-guide/pipelines/xslt/xslt-functions.html">
            
                    
                        <b>3.7.2.2.</b>
                    
                    XSLT functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7.3" data-path="../../user-guide/pipelines/file-output.html">
            
                <a href="../../user-guide/pipelines/file-output.html">
            
                    
                        <b>3.7.3.</b>
                    
                    File output
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../../user-guide/dashboards/">
            
                <a href="../../user-guide/dashboards/">
            
                    
                        <b>3.8.</b>
                    
                    Dashboards
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.8.1" data-path="../../user-guide/dashboards/queries.html">
            
                <a href="../../user-guide/dashboards/queries.html">
            
                    
                        <b>3.8.1.</b>
                    
                    Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8.2" data-path="../../user-guide/dashboards/dictionaries.html">
            
                <a href="../../user-guide/dashboards/dictionaries.html">
            
                    
                        <b>3.8.2.</b>
                    
                    Dictionaries
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../../user-guide/security.html">
            
                <a href="../../user-guide/security.html">
            
                    
                        <b>3.9.</b>
                    
                    Security
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10" >
            
                <span>
            
                    
                        <b>3.10.</b>
                    
                    Data splitter
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.1" data-path="../../datasplitter/1-0-introduction.html">
            
                <a href="../../datasplitter/1-0-introduction.html">
            
                    
                        <b>3.10.1.</b>
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.1.1" data-path="../../datasplitter/1-1-simple-csv-example.html">
            
                <a href="../../datasplitter/1-1-simple-csv-example.html">
            
                    
                        <b>3.10.1.1.</b>
                    
                    Simple CSV example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.1.2" data-path="../../datasplitter/1-2-simple-csv-example-with-heading.html">
            
                <a href="../../datasplitter/1-2-simple-csv-example-with-heading.html">
            
                    
                        <b>3.10.1.2.</b>
                    
                    Simple CSV example with heading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.1.3" data-path="../../datasplitter/1-3-complex-example.html">
            
                <a href="../../datasplitter/1-3-complex-example.html">
            
                    
                        <b>3.10.1.3.</b>
                    
                    Complex example with regex and user defined names
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.1.4" data-path="../../datasplitter/1-4-multi-line-example.html">
            
                <a href="../../datasplitter/1-4-multi-line-example.html">
            
                    
                        <b>3.10.1.4.</b>
                    
                    Multi-line example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.10.2" data-path="../../datasplitter/2-0-element-reference.html">
            
                <a href="../../datasplitter/2-0-element-reference.html">
            
                    
                        <b>3.10.2.</b>
                    
                    Element reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.2.1" data-path="../../datasplitter/2-1-content-providers.html">
            
                <a href="../../datasplitter/2-1-content-providers.html">
            
                    
                        <b>3.10.2.1.</b>
                    
                    Content providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.2.2" data-path="../../datasplitter/2-2-expressions.html">
            
                <a href="../../datasplitter/2-2-expressions.html">
            
                    
                        <b>3.10.2.2.</b>
                    
                    Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.2.3" data-path="../../datasplitter/2-3-variables.html">
            
                <a href="../../datasplitter/2-3-variables.html">
            
                    
                        <b>3.10.2.3.</b>
                    
                    Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.2.4" data-path="../../datasplitter/2-4-output.html">
            
                <a href="../../datasplitter/2-4-output.html">
            
                    
                        <b>3.10.2.4.</b>
                    
                    Output
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.10.3" data-path="../../datasplitter/3-0-match-references.html">
            
                <a href="../../datasplitter/3-0-match-references.html">
            
                    
                        <b>3.10.3.</b>
                    
                    Match references, variables and fixed strings
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.3.1" data-path="../../datasplitter/3-1-expression-match-references.html">
            
                <a href="../../datasplitter/3-1-expression-match-references.html">
            
                    
                        <b>3.10.3.1.</b>
                    
                    Expression match references
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.3.2" data-path="../../datasplitter/3-2-variable-reference.html">
            
                <a href="../../datasplitter/3-2-variable-reference.html">
            
                    
                        <b>3.10.3.2.</b>
                    
                    Variable reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.3.3" data-path="../../datasplitter/3-3-use-of-fixed-strings.html">
            
                <a href="../../datasplitter/3-3-use-of-fixed-strings.html">
            
                    
                        <b>3.10.3.3.</b>
                    
                    Use of fixed strings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.3.4" data-path="../../datasplitter/3-4-concatenation-of-references.html">
            
                <a href="../../datasplitter/3-4-concatenation-of-references.html">
            
                    
                        <b>3.10.3.4.</b>
                    
                    Concatenation of references
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">4. HOWTOs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../StroomHowTos.html">
            
                <a href="../StroomHowTos.html">
            
                    
                        <b>4.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
                <span>
            
                    
                        <b>4.2.</b>
                    
                    General
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../General/FeedManagementHowTo.html">
            
                <a href="../General/FeedManagementHowTo.html">
            
                    
                        <b>4.2.1.</b>
                    
                    Feed Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../General/TasksHowTo.html">
            
                <a href="../General/TasksHowTo.html">
            
                    
                        <b>4.2.2.</b>
                    
                    Tasks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <span>
            
                    
                        <b>4.3.</b>
                    
                    Authentication
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../Authentication/UserLogoutHowTo.html">
            
                <a href="../Authentication/UserLogoutHowTo.html">
            
                    
                        <b>4.3.1.</b>
                    
                    User Logout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../Authentication/UserLoginHowTo.html">
            
                <a href="../Authentication/UserLoginHowTo.html">
            
                    
                        <b>4.3.2.</b>
                    
                    User Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../Authentication/CreateUserHowTo.html">
            
                <a href="../Authentication/CreateUserHowTo.html">
            
                    
                        <b>4.3.3.</b>
                    
                    Create User
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" >
            
                <span>
            
                    
                        <b>4.4.</b>
                    
                    Install
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="InstallNodesHowTo.html">
            
                <a href="InstallNodesHowTo.html">
            
                    
                        <b>4.4.1.</b>
                    
                    Nodes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="InstallDatabaseHowTo.html">
            
                <a href="InstallDatabaseHowTo.html">
            
                    
                        <b>4.4.2.</b>
                    
                    Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="InstallHowTo.html">
            
                <a href="InstallHowTo.html">
            
                    
                        <b>4.4.3.</b>
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.4" data-path="InstallProcessingUserSetupHowTo.html">
            
                <a href="InstallProcessingUserSetupHowTo.html">
            
                    
                        <b>4.4.4.</b>
                    
                    Processing User Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.5" data-path="InstallNFSHowTo.html">
            
                <a href="InstallNFSHowTo.html">
            
                    
                        <b>4.4.5.</b>
                    
                    NFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.6" data-path="InstallTestingHowTo.html">
            
                <a href="InstallTestingHowTo.html">
            
                    
                        <b>4.4.6.</b>
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.7" data-path="InstallProxyHowTo.html">
            
                <a href="InstallProxyHowTo.html">
            
                    
                        <b>4.4.7.</b>
                    
                    Proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.8" data-path="InstallVolumesHowTo.html">
            
                <a href="InstallVolumesHowTo.html">
            
                    
                        <b>4.4.8.</b>
                    
                    Volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.9" data-path="InstallHttpdHowTo.html">
            
                <a href="InstallHttpdHowTo.html">
            
                    
                        <b>4.4.9.</b>
                    
                    Httpd
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.4.10" data-path="InstallCertificatesHowTo.html">
            
                <a href="InstallCertificatesHowTo.html">
            
                    
                        <b>4.4.10.</b>
                    
                    Certificates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.11" data-path="InstallApplicationHowTo.html">
            
                <a href="InstallApplicationHowTo.html">
            
                    
                        <b>4.4.11.</b>
                    
                    Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">5. Stroom Proxy</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../proxy/install.html">
            
                <a href="../../proxy/install.html">
            
                    
                        <b>5.1.</b>
                    
                    Installing Stroom proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../proxy/docker.html">
            
                <a href="../../proxy/docker.html">
            
                    
                        <b>5.2.</b>
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../proxy/apache-forwarding.html">
            
                <a href="../../proxy/apache-forwarding.html">
            
                    
                        <b>5.3.</b>
                    
                    Apache forwarding
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">6. Developer Guide</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../dev-guide/README.md">
            
                <span>
            
                    
                        <b>6.1.</b>
                    
                    Developer guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../dev-guide/releasing.html">
            
                <a href="../../dev-guide/releasing.html">
            
                    
                        <b>6.1.1.</b>
                    
                    Releasing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../dev-guide/stroom-in-an-ide.html">
            
                <a href="../../dev-guide/stroom-in-an-ide.html">
            
                    
                        <b>6.1.2.</b>
                    
                    Running Stroom from IntelliJ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../dev-guide/docker-running.html">
            
                <a href="../../dev-guide/docker-running.html">
            
                    
                        <b>6.1.3.</b>
                    
                    Running Stroom using Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="../../dev-guide/docker-building.html">
            
                <a href="../../dev-guide/docker-building.html">
            
                    
                        <b>6.1.4.</b>
                    
                    Building a Stroom Docker image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.5" data-path="../../dev-guide/gitbook.html">
            
                <a href="../../dev-guide/gitbook.html">
            
                    
                        <b>6.1.5.</b>
                    
                    Building GitBook documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.6" data-path="../../dev-guide/c">
            
                <span>
            
                    
                        <b>6.1.6.</b>
                    
                    C# Client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Certificates</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="stroom-howto---ssl-certificate-generation">Stroom HOWTO - SSL Certificate Generation</h1>
<p>The following is a HOWTO to assist users in setting up various SSL Certificates to support a Web interface to Stroom.</p>
<h2 id="assumptions">Assumptions</h2>
<p>The following assumptions are used in this document.</p>
<ul>
<li>the user has reasonable RHEL/Centos System administration skills</li>
<li>installations are on Centos 7.3 minimal systems (fully patched)</li>
<li>either a Stroom Proxy or Stroom Application has already been deployed</li>
<li>processing node names are &apos;stroomp00.strmdev00.org&apos; and &apos;stroomp01.strmdev00.org&apos;</li>
<li>the first node, &apos;stroomp00.strmdev00.org&apos; also has a CNAME &apos;stroomp.strmdev00.org&apos;</li>
<li>in the scenario of a Stroom Forwarding Proxy, the node name is &apos;stroomfp0.strmdev00.org&apos;</li>
<li>in the scenario of a Stroom Standalone Proxy, the node name is &apos;stroomsap0.strmdev00.org&apos;</li>
<li>stroom runs as user &apos;stroomuser&apos;</li>
<li>the use of self signed certificates is appropriate for test systems, but users should consider appropriate CA infrastructure in production environments</li>
<li>in this document, when a screen capture is documented, data entry is identified by the data surrounded by &apos;<__' '__="">&apos; . This excludes enter/return presses.</__'></li>
</ul>
<p><a name="createcertificates-anchor"></a></p>
<h2 id="create-certificates">Create certificates</h2>
<p>The first step is to establish a self signed certificate for our Stroom service. If you have a certificate server, then certainly gain an
appropriately signed certificate. For this HOWTO, we will stay with a self signed solution and hence no certificate authorities are
involved. If you are deploying a cluster, then you will only have one certificate for all nodes. We achieve this by setting up an
alias for the first node in the cluster and then use that alias for addressing the cluster. That is, we have set up a
CNAME, <code>stroomp.strmdev00.org</code> for <code>stroomp00.strmdev00.org</code>. This means within the web service we deploy, the ServerName will be <code>stroomp.strmdev00.org</code>
on each node. Since it&apos;s one certificate we only need to set it up on one node then deploy the certificate key files to other nodes.</p>
<p>As the certificates will be stored in the <code>stroomuser&apos;s</code> home directory, we become the stroom user</p>
<pre class="language-"><code class="lang-bash"><span class="token function">sudo</span> -i -u stroomuser
</code></pre>
<p><a name="sslhostvar-anchor"></a>
To make things simpler in the following bash extracts, we establish the bash variable <strong>H</strong> to be used in filename generation. The variable name
is set to the name of the host (or cluster alias) your are deploying the certificates on. In our multi node HOWTO example we are using, we
would use the host CNAME <code>stroomp</code>.  Thus we execute</p>
<pre class="language-"><code class="lang-bash"><span class="token function">export</span> H<span class="token operator">=</span>stroomp
</code></pre>
<p>Note in our the Stroom Forwarding Proxy HOWTO we would use the name <code>stroomfp0</code>. In the case of our Standalone Proxy we would use <code>stroomsap0</code>.</p>
<p>We set up a directory to house our certificates via</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cd</span> ~stroomuser
<span class="token function">rm</span> -rf stroom-jks
<span class="token function">mkdir</span> -p stroom-jks stroom-jks/public stroom-jks/private
<span class="token function">cd</span> stroom-jks
</code></pre>
<p>Create a server key for Stroom service (enter a password when prompted for both initial and verification prompts)</p>
<pre class="language-"><code class="lang-bash">openssl genrsa -des3 -out private/<span class="token variable">$H</span>.key 2048
</code></pre>
<p>as per</p>
<pre class="language-"><code>Generating RSA private key, 2048 bit long modulus
.................................................................+++
...............................................+++
e is 65537 (0x10001)
Enter pass phrase for private/stroomp.key: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
Verifying - Enter pass phrase for private/stroomp.key: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>Create a signing request. The two important prompts are the password and Common Name. All the rest can use the defaults offered.
The requested password is for the server key and you should use the host (or cluster alias) your are deploying the certificates on for
the Common Name. In the output below we will assume a multi node cluster certificate is being generated, so will use <code>stroomp.strmdev00.org</code>.</p>
<pre class="language-"><code class="lang-bash">openssl req -sha256 -new -key private/<span class="token variable">$H</span>.key -out <span class="token variable">$H</span>.csr
</code></pre>
<p>as per</p>
<pre class="language-"><code>Enter pass phrase for private/stroomp.key: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter &apos;.&apos;, the field will be left blank.
-----
Country Name (2 letter code) [XX]:
State or Province Name (full name) []:
Locality Name (eg, city) [Default City]:
Organization Name (eg, company) [Default Company Ltd]:
Organizational Unit Name (eg, section) []:
Common Name (eg, your name or your server&apos;s hostname) []:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__</span> <span class="token attr-name">stroomp.strmdev00.org</span> <span class="token attr-name">__</span><span class="token punctuation">&gt;</span></span> 
Email Address []:

Please enter the following &apos;extra&apos; attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:
</code></pre><p>We now self sign the certificate (again enter the server key password)</p>
<pre class="language-"><code class="lang-bash">openssl x509 -req -sha256 -days 720 -in <span class="token variable">$H</span>.csr -signkey private/<span class="token variable">$H</span>.key -out public/<span class="token variable">$H</span>.crt
</code></pre>
<p>as per</p>
<pre class="language-"><code>Signature ok
subject=/C=XX/L=Default City/O=Default Company Ltd/CN=stroomp.strmdev00.org
Getting Private key
Enter pass phrase for private/stroomp.key: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>and noting the <code>subject</code> will change depending on the host name used when generating the signing request.</p>
<p>Create insecure version of private key for Apache autoboot (you will again need to enter the server key password)</p>
<pre class="language-"><code class="lang-bash">openssl rsa -in private/<span class="token variable">$H</span>.key -out private/<span class="token variable">$H</span>.key.insecure
</code></pre>
<p>as per</p>
<pre class="language-"><code>Enter pass phrase for private/stroomp.key: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
writing RSA key
</code></pre><p>and then move the insecure keys as appropriate</p>
<pre class="language-"><code class="lang-bash"><span class="token function">mv</span> private/<span class="token variable">$H</span>.key private/<span class="token variable">$H</span>.key.secure
<span class="token function">chmod</span> 600 private/<span class="token variable">$H</span>.key.secure
<span class="token function">mv</span> private/<span class="token variable">$H</span>.key.insecure private/<span class="token variable">$H</span>.key
</code></pre>
<p>We have now completed the creation of our certificates and keys.</p>
<h3 id="replication-of-keys-directory-to-other-nodes">Replication of Keys Directory to other nodes</h3>
<p>If you are deploying a multi node Stroom cluster, then you would replicate the directory ~stroomuser/stroom-jks to each node in the cluster. That is,
tar it up, copy the tar file to the other node(s) then untar it. We can make use of the other node&apos;s mounted file system for this process.
That is one could execute the commands on the first node, where we created the certificates</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cd</span> ~stroomuser
<span class="token function">tar</span> cf stroom-jks.tar stroom-jks
<span class="token function">mv</span> stroom-jks.tar /stroomdata/stroom-data-p01
</code></pre>
<p>then on the another node, say <code>stroomp01.strmdev00.org</code>, as the stroomuser we extract the data.</p>
<pre class="language-"><code class="lang-bash"><span class="token function">sudo</span> -i -u stroomuser
<span class="token function">cd</span> ~stroomuser
<span class="token function">tar</span> xf /stroomdata/stroom-data-p01/stroom-jks.tar <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> -f /stroomdata/stroom-data-p01/stroom-jks.tar
</code></pre>
<h3 id="protection-ownership-and-selinux-context">Protection, Ownership and SELinux Context</h3>
<p>Now ensure protection, ownership and SELinux context for these key files on <em>ALL_</em> nodes via</p>
<pre class="language-"><code class="lang-bash"><span class="token function">chmod</span> 700 ~stroomuser/stroom-jks/private ~stroomuser/stroom-jks
<span class="token function">chown</span> -R stroomuser:stroomuser ~stroomuser/stroom-jks
chcon -R --reference /etc/pki ~stroomuser/stroom-jks
</code></pre>
<h2 id="stroom-proxy-to-proxy-key-and-trust-stores">Stroom Proxy to Proxy Key and Trust Stores</h2>
<p>In order for a Stroom Forwarding Proxy to communicate to a central Stroom proxy over https, the JVM running the forwarding proxy needs
relevant keystores set up.</p>
<p>One would set up a Stroom&apos;s forwarding proxy SSL certificate as per <a href="#createcertificates-anchor">above</a>, with the change that the
hostname would be different. That is, in the initial setup, we would set the hostname variable <strong>H</strong> to be the hostname of the forwarding
proxy. Lets say it is <code>stroomfp0</code> thus we would set</p>
<pre class="language-"><code class="lang-bash"><span class="token function">export</span> H<span class="token operator">=</span>stroomfp0
</code></pre>
<p>and then proceed as <a href="#sslhostvar-anchor">above</a>.</p>
<p>Note that you also need the public key of the central Stroom server you will be connecting to. For the following, we will assume
the central Stroom proxy is the <em>stroomp.strmdev00.org</em> server and it&apos;s public key is stored in the file <code>stroomp.crt</code>. We will store
this file on the forwarding proxy in <code>~stroomuser/stroom-jks/public/stroomp.crt</code>.</p>
<p>So once you have created the forwarding proxy server&apos;s SSL keys and have deployed the central proxy&apos;s public key, we next
need to convert the proxy server&apos;s SSL keys into DER format. This is done by executing the following.</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cd</span> ~stroomuser/stroom-jks
<span class="token function">export</span> H<span class="token operator">=</span>stroomfp0
<span class="token function">export</span> S<span class="token operator">=</span>stroomp
<span class="token function">rm</span> -f <span class="token variable">${H}</span>_k.jks <span class="token variable">${S}</span>_t.jks
H_k<span class="token operator">=</span><span class="token variable">${H}</span>
S_k<span class="token operator">=</span><span class="token variable">${S}</span>
<span class="token comment" spellcheck="true"># Convert public key</span>
openssl x509 -in public/<span class="token variable">$H</span>.crt -inform PERM -out public/<span class="token variable">$H</span>.crt.der -outform DER
</code></pre>
<p>When you convert the local server&apos;s private key, you will be prompted for the server key password. </p>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># Convert the local server&apos;s Private key</span>
openssl pkcs8 -topk8 -nocrypt -in private/<span class="token variable">$H</span>.key.secure -inform PEM -out private/<span class="token variable">$H</span>.key.der -outform DER
</code></pre>
<p>as per</p>
<pre class="language-"><code>Enter pass phrase for private/stroomfp0.key.secure: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>__ENTER_SERVER_KEY_PASSWORD__</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>We now import these keys into our Key Store. As part of the Stroom Proxy release, an Import Keystore application has been provisioned. We identify where it&apos;s found with the command</p>
<pre class="language-"><code class="lang-bash"><span class="token function">find</span> ~stroomuser/*proxy -name <span class="token string">&apos;stroom-util*.jar&apos;</span> -print <span class="token operator">|</span> <span class="token function">head</span> -1
</code></pre>
<p>which should return <em>/home/stroomuser/stroom-proxy/instance/webapps/stroom/WEB-INF/lib/stroom-util-5.0.beta1-SNAPSHOT.jar</em> or similar depending on the release version.
To make execution simpler, we set this as a shell variable as per</p>
<pre class="language-"><code class="lang-bash">Stroom_UTIL_JAR<span class="token operator">=</span>`find ~/*proxy -name <span class="token string">&apos;stroom-util*.jar&apos;</span> -print <span class="token operator">|</span> <span class="token function">head</span> -1`
</code></pre>
<p>We now create the keystore and import the proxy&apos;s server key</p>
<pre class="language-"><code class="lang-bash">java -cp <span class="token variable">${Stroom_UTIL_JAR}</span> stroom.util.cert.ImportKey keystore<span class="token operator">=</span><span class="token variable">${H}</span>_k.jks keypass<span class="token operator">=</span><span class="token variable">$H</span> alias<span class="token operator">=</span><span class="token variable">$H</span> keyfile<span class="token operator">=</span>private/<span class="token variable">$H</span>.key.der certfile<span class="token operator">=</span>public/<span class="token variable">$H</span>.crt.der
</code></pre>
<p>as per</p>
<pre class="language-"><code>One certificate, no chain
</code></pre><p>We now import the destination server&apos;s public key</p>
<pre class="language-"><code class="lang-bash">keytool -import -noprompt -alias <span class="token variable">${S}</span> -file public/<span class="token variable">${S}</span>.crt -keystore <span class="token variable">${S}</span>_k.jks -storepass <span class="token variable">${S}</span>
</code></pre>
<p>as per</p>
<pre class="language-"><code>Certificate was added to keystore
</code></pre><p>We now add the key and trust store location and password arguments to our Stroom proxy environment files.</p>
<pre class="language-"><code class="lang-bash">PWD<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">pwd</span><span class="token variable">`</span></span>
<span class="token keyword">echo</span> <span class="token string">&quot;export JAVA_OPTS=\&quot;-Djavax.net.ssl.trustStore=<span class="token variable">${PWD}</span>/<span class="token variable">${S}</span>_k.jks -Djavax.net.ssl.trustStorePassword=<span class="token variable">${S}</span> -Djavax.net.ssl.keyStore=<span class="token variable">${PWD}</span>/<span class="token variable">${H}</span>_k.jks -Djavax.net.ssl.keyStorePassword=<span class="token variable">${H}</span>\&quot;&quot;</span> <span class="token operator">&gt;&gt;</span> ~/env.sh
<span class="token keyword">echo</span> <span class="token string">&quot;JAVA_OPTS=\&quot;-Djavax.net.ssl.trustStore=<span class="token variable">${PWD}</span>/<span class="token variable">${S}</span>_k.jks -Djavax.net.ssl.trustStorePassword=<span class="token variable">${S}</span> -Djavax.net.ssl.keyStore=<span class="token variable">${PWD}</span>/<span class="token variable">${H}</span>_k.jks -Djavax.net.ssl.keyStorePassword=<span class="token variable">${H}</span>\&quot;&quot;</span> <span class="token operator">&gt;&gt;</span> ~/env_service.sh
</code></pre>
<p>At this point you should restart the proxy service. Using the commands</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cd</span> ~stroomuser
<span class="token function">source</span> ./env.sh
stroom-proxy/bin/stop.sh
stroom-proxy/bin/start.sh
</code></pre>
<p>then check the logs to ensure it started correctly.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="InstallHttpdHowTo.html" class="navigation navigation-prev " aria-label="Previous page: Httpd">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="InstallApplicationHowTo.html" class="navigation navigation-next " aria-label="Next page: Application">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Certificates","level":"4.4.10","depth":2,"next":{"title":"Application","level":"4.4.11","depth":2,"path":"HOWTOs/Install/InstallApplicationHowTo.md","ref":"HOWTOs/Install/InstallApplicationHowTo.md","articles":[]},"previous":{"title":"Httpd","level":"4.4.9","depth":2,"path":"HOWTOs/Install/InstallHttpdHowTo.md","ref":"HOWTOs/Install/InstallHttpdHowTo.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","github","anchorjs"],"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/gchq/stroom-docs"},"theme-default":{"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"prism":{},"anchorjs":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Stroom Docs","gitbook":"3.x.x"},"file":{"path":"HOWTOs/Install/InstallCertificatesHowTo.md","mtime":"2017-06-08T15:03:56.994Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-06-08T15:05:20.341Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

